## 用户态和内核态运行时间统计

很精妙，围绕切换函数`trap_handler`展开

## 支持浮点应用程序

`trap.S`中需要添加浮点寄存器的存储与恢复。

此外，支持浮点指令可能还需要(包括但不限于)以下条件：

- 机器本身支持浮点指令
- Rust 编译目标包含浮点指令：在`os/Makefile`中的`TARGET := riscv64gc-unknown-none-elf`支持浮点指令，而对应的`riscv64imac`则不支持。
- 需要通过控制浮点控制状态寄存器（如`fcsr`）来检查FPU状态。具体可见[3.1.6.6](https://five-embeddev.com/riscv-priv-isa-manual/Priv-v1.12/machine.html#machine-status-registers-mstatus-and-mstatush)

再就是要开启F/D扩展，由于在`config.toml`里面设置目标特性没成功，显示是`unsable`，在`cargo.toml`里面启用`unsable`依然不行，所以选择在汇编文件处显式声明架构。